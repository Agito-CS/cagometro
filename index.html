<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cag√¥metro - Auditoria Cient√≠fica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f3f4f6;
            touch-action: manipulation;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #8d6e63 0%, #5d4037 100%);
        }
        .tnt-bg {
            background: linear-gradient(135deg, #ef4444 0%, #b91c1c 100%);
        }
        input[type="range"] {
            height: 12px;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">

    <div class="max-w-md mx-auto bg-white min-h-screen shadow-2xl flex flex-col">
        <!-- Header -->
        <div class="gradient-bg p-8 text-center text-white rounded-b-[50px] shadow-lg">
            <div class="text-6xl mb-3">üí©</div>
            <h1 class="text-3xl font-800 uppercase tracking-tighter">Cag√¥metro</h1>
            <p class="text-xs opacity-90 font-medium tracking-wide">C√°lculo Conservador (Padr√£o IPCC)</p>
        </div>

        <!-- Form Section -->
        <div class="p-6 space-y-6 flex-grow">
            <div class="bg-gray-50 p-5 rounded-3xl border border-gray-200">
                <label class="block text-xs font-800 text-gray-400 uppercase mb-2 tracking-widest">Data de Nascimento</label>
                <input type="date" id="birthdate" 
                       class="w-full p-4 bg-white border-2 border-gray-200 rounded-2xl focus:border-amber-600 focus:outline-none transition-all text-gray-700 font-bold">
            </div>

            <div class="bg-gray-50 p-5 rounded-3xl border border-gray-200">
                <label class="block text-xs font-800 text-gray-400 uppercase mb-4 tracking-widest">Frequ√™ncia: <span id="freq-value" class="text-amber-800">1.0</span>x / dia</label>
                <input type="range" id="frequency" min="0.1" max="5" step="0.1" value="1"
                       class="w-full bg-gray-200 rounded-lg appearance-none cursor-pointer accent-amber-800 h-3">
            </div>

            <button onclick="calcular()" 
                    class="w-full py-5 gradient-bg text-white font-900 rounded-3xl shadow-xl active:scale-95 transition-all text-xl uppercase tracking-widest">
                Calcular Impacto Real
            </button>

            <!-- Results -->
            <div id="result-container" class="hidden space-y-6 animate-in fade-in slide-in-from-bottom-8 duration-700">
                
                <!-- Peso das Fezes -->
                <div class="text-center py-4">
                    <p class="text-gray-400 text-[11px] uppercase font-800 tracking-widest">Massa Fecal Acumulada</p>
                    <div class="text-6xl font-900 text-amber-900 leading-none my-2" id="kg-total">0 kg</div>
                    <p class="text-[10px] font-bold text-amber-600 uppercase tracking-tighter" id="fun-fact"></p>
                </div>

                <!-- Massa de Metano -->
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-blue-700 p-5 rounded-3xl text-white shadow-lg text-center">
                        <p class="text-[9px] font-800 uppercase opacity-80">Metano (CH4)</p>
                        <p class="text-2xl font-900" id="metano-massa">0 kg</p>
                        <p class="text-[8px] opacity-70 mt-1">~2.75% da massa fecal</p>
                    </div>
                    <div class="bg-green-700 p-5 rounded-3xl text-white shadow-lg text-center">
                        <p class="text-[9px] font-800 uppercase opacity-80">Eletricidade Gerada</p>
                        <p class="text-2xl font-900" id="energia-total">0 kWh</p>
                        <p class="text-[8px] opacity-70 mt-1">Rendimento motor: 25%</p>
                    </div>
                </div>

                <!-- Utilidade Pr√°tica -->
                <div class="bg-white p-6 rounded-[40px] border-2 border-gray-100 shadow-sm">
                    <p class="text-[11px] font-900 text-gray-400 mb-5 uppercase text-center tracking-widest">Aproveitamento Energ√©tico</p>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <span class="text-xl">üç≥</span>
                                <span class="text-xs font-800 text-gray-500 uppercase">Boca de Fog√£o</span>
                            </div>
                            <strong class="text-lg font-900 text-gray-700" id="time-stove">0</strong>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <span class="text-xl">‚ùÑÔ∏è</span>
                                <span class="text-xs font-800 text-gray-500 uppercase">Ar Condicionado</span>
                            </div>
                            <strong class="text-lg font-900 text-gray-700" id="time-ac">0</strong>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <span class="text-xl">üöø</span>
                                <span class="text-xs font-800 text-gray-500 uppercase">Banho Quente</span>
                            </div>
                            <strong class="text-lg font-900 text-gray-700" id="time-shower">0</strong>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <span class="text-xl">üì±</span>
                                <span class="text-xs font-800 text-gray-500 uppercase">Cargas de Celular</span>
                            </div>
                            <strong class="text-lg font-900 text-gray-700" id="smartphone-charges">0</strong>
                        </div>
                    </div>
                </div>

                <!-- TNT Section -->
                <div class="tnt-bg p-6 rounded-[40px] text-white shadow-2xl relative overflow-hidden">
                    <div class="relative z-10 text-center">
                        <p class="text-[11px] font-900 uppercase opacity-80 tracking-widest mb-2">üöÄ Potencial Explosivo</p>
                        <div class="flex justify-center items-baseline space-x-2">
                            <span class="text-5xl font-900" id="tnt-total">0</span>
                            <span class="text-xl font-bold opacity-80">kg de TNT</span>
                        </div>
                        
                        <div class="mt-6 grid grid-cols-2 gap-3">
                            <div class="bg-white/20 p-3 rounded-2xl border border-white/20">
                                <p class="text-[8px] font-900 uppercase opacity-80">Raio Letal</p>
                                <p class="text-xl font-900" id="raio-20">0m</p>
                            </div>
                            <div class="bg-black/20 p-3 rounded-2xl border border-black/10">
                                <p class="text-[8px] font-900 uppercase opacity-80">Raio de Vidros</p>
                                <p class="text-xl font-900" id="raio-1">0m</p>
                            </div>
                        </div>
                        <p class="text-[8px] opacity-70 mt-4 italic">Equival√™ncia baseada em efici√™ncia de detona√ß√£o de 10%.</p>
                    </div>
                    <div class="absolute -right-6 -top-6 text-9xl opacity-10">üí•</div>
                </div>
                <div class="h-10"></div>
            </div>
        </div>

        <!-- Footer -->
        <div class="p-6 text-center text-[9px] text-gray-400 bg-gray-50 border-t border-gray-100 uppercase font-bold tracking-widest">
            F√≠sica: 25% Mat√©ria Seca | Rendimento Metano: 0.21m¬≥/kg SV | 1kg CH4 ‚âà 11.9kg TNT.
        </div>
    </div>

    <script>
        const freqSlider = document.getElementById('frequency');
        const freqValue = document.getElementById('freq-value');

        freqSlider.addEventListener('input', () => {
            freqValue.textContent = parseFloat(freqSlider.value).toFixed(1);
        });

        function formatTime(val) {
            if (val <= 0) return "0 min";
            if (val < 1) return Math.round(val * 60) + " min";
            if (val < 24) return Math.round(val) + " h";
            if (val < 8760) return Math.round(val / 24) + " d";
            return (val / 8760).toFixed(1) + " anos";
        }

        function calcular() {
            const birthdateInput = document.getElementById('birthdate').value;
            if (!birthdateInput) return;

            const birthDate = new Date(birthdateInput);
            const today = new Date();
            const diffDays = Math.ceil(Math.abs(today - birthDate) / (1000 * 60 * 60 * 24));
            const freqDiaria = parseFloat(freqSlider.value);
            
            // 1. MASSA FECAL (M√©dia 128g por evacua√ß√£o)
            const totalKgFezes = diffDays * freqDiaria * 0.128; 
            
            // 2. MASSA DE METANO (CH4)
            // 1kg fezes √∫midas -> 0.25kg mat√©ria seca -> 0.20kg SV -> 0.042m¬≥ CH4 -> ~0.027kg CH4
            const metanoMassaKg = totalKgFezes * 0.027594; 

            // 3. ENERGIA EL√âTRICA
            const energiaTermicaMJ = metanoMassaKg * 50;
            const totalKWh = (energiaTermicaMJ / 3.6) * 0.25;

            // 4. POTENCIAL TNT (REVERS√ÉO PARA MODELO DE SEGURAN√áA INDUSTRIAL)
            // Equival√™ncia Energ√©tica Bruta: 1kg Metano = 11.95kg TNT
            // Efici√™ncia de Explos√£o (Impacto de Onda de Choque): 10%
            // Este √© o padr√£o para estimativa de danos estruturais.
            const eficienciaRealExplosiva = 0.10; 
            const kgTNT = metanoMassaKg * 11.95 * eficienciaRealExplosiva;

            // 5. RAIOS DE IMPACTO
            const rootTNT = Math.pow(kgTNT, 1/3);
            const raio20psi = 2.4 * rootTNT; 
            const raio1psi = 14.5 * rootTNT;

            // UI
            document.getElementById('result-container').classList.remove('hidden');
            document.getElementById('kg-total').textContent = Math.round(totalKgFezes).toLocaleString('pt-BR') + " kg";
            document.getElementById('metano-massa').textContent = metanoMassaKg.toLocaleString('pt-BR', { maximumFractionDigits: 2 }) + " kg";
            document.getElementById('energia-total').textContent = totalKWh.toLocaleString('pt-BR', { maximumFractionDigits: 2 }) + " kWh";

            document.getElementById('time-stove').textContent = formatTime(metanoMassaKg / 0.11);
            document.getElementById('time-ac').textContent = formatTime(totalKWh / 1.2);
            document.getElementById('time-shower').textContent = formatTime(totalKWh / 7);
            document.getElementById('smartphone-charges').textContent = Math.floor(totalKWh / 0.015).toLocaleString('pt-BR');

            document.getElementById('tnt-total').textContent = Math.round(kgTNT).toLocaleString('pt-BR');
            document.getElementById('raio-20').textContent = Math.round(raio20psi) + "m";
            document.getElementById('raio-1').textContent = Math.round(raio1psi) + "m";

            let comp = "uma Baleia Azul";
            if (totalKgFezes < 200) comp = "uma Moto Honda Pop";
            else if (totalKgFezes < 1000) comp = "um Fusca 1970";
            else if (totalKgFezes < 5000) comp = "um Elefante Africano";
            document.getElementById('fun-fact').textContent = "Equivale ao peso de " + comp;

            setTimeout(() => {
                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
            }, 100);
        }
    </script>
</body>
</html>
